<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="devMSMs">
<title>Specify Core Inputs • devMSMs</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify Core Inputs">
<meta property="og:description" content="devMSMs">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">devMSMs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Terminology.html">Terminology</a>
    <a class="dropdown-item" href="../articles/Data_Requirements.html">Data Requirements</a>
    <a class="dropdown-item" href="../articles/Specify_Core_Inputs.html">Specify Core Inputs</a>
    <a class="dropdown-item" href="../articles/Preliminary_Steps.html">Preliminary Steps</a>
    <a class="dropdown-item" href="../articles/Workflow_Continuous_Exposure.html">Workflow: Continuous Exposure</a>
    <a class="dropdown-item" href="../articles/Customize_Balancing_Formulas.html">Customize Balancing Formulas</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/istallworthy/devMSMs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Specify Core Inputs</h1>
                        <h4 data-toc-skip class="author">Isabella
Stallworthy</h4>
            
            <h4 data-toc-skip class="date">2023-12-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/istallworthy/devMSMs/blob/HEAD/vignettes/Specify_Core_Inputs.Rmd" class="external-link"><code>vignettes/Specify_Core_Inputs.Rmd</code></a></small>
      <div class="d-none name"><code>Specify_Core_Inputs.Rmd</code></div>
    </div>

    
    
<p>This vignette guides users through the specification of the core
inputs required by the <em>deMSMs</em> functions (and helper functions).
Users should first view the
<a href="https://istallworthy.github.io/devMSMs/articles/Terminology.html">Terminology</a>
and
<a href="https://istallworthy.github.io/devMSMs/articles/Data_Requirements.html">Data
Requirements</a> vignettes. This vignette helps users specify core
inputs (e.g., home directory, exposure, exposure time points,
time-varying confounders, time invariant confounders, outcome,
reference, comparison, high/low cutoff for continuous exposure, and
balance threshold) that are used by multiple functions in the
<em>devMSMs</em> package (see <em>Workflows</em> vignettes). Their use
and values should be kept consistent throughout the package.
Additionally, all functions have two optional inputs allowing the user
to override defaults to suppress all messaging to the console
(<code>verbose = FALSE</code>) and elect not to save out locally any
intermediate and final output (<code>save.out = FALSE</code>).</p>
<p>Following completion of this vignette, the user should complete the
<a href="https://istallworthy.github.io/devMSMs/articles/Preliminary_Steps.html">Preliminary
Steps</a> followed by a <em>Workflow</em> vignette to implement
<em>devMSMs</em> with their longitudinal data.</p>
<p>The code contained in this vignette is also available, integrated
code from the other vignettes, in the
<a href="https://github.com/istallworthy/devMSMs/blob/main/examplePipelineRevised.Rmd" class="external-link">examplePipeline.rmd
file</a>.</p>
<p><br><br></p>
<div class="section level3">
<h3 id="home-directory">Home Directory<a class="anchor" aria-label="anchor" href="#home-directory"></a>
</h3>
<p>Users are required to specify home directory, or in quotations, a
path to a designated folder for all output from the package, if they
plan to save out intermediary and final outputs in the package (default)
by setting <code>save.out = TRUE</code> for any of the functions. All
sub directories will be created within this home directory by the
<em>devMSMs</em> functions automatically when
<code>save.out’ = TRUE</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">home_dir</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">home_dir</span> <span class="op">&lt;-</span> <span class="st">'/Users/isabella/Library/CloudStorage/Box-Box/BSL General/MSMs/testing/isa'</span> <span class="co">#note: no / after</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="exposure-variable">Exposure Variable<a class="anchor" aria-label="anchor" href="#exposure-variable"></a>
</h3>
<p>Users are required to specify an exposure variable as input to all
functions in <em>devMSMs</em>. The user must specify exposure, or the
variable name of the exposure in quotations, without any time
information appended (e.g., “variable”). Note that in your dataset, the
exposure variables should be in wide format labeled with a “.time”
suffix (e.g., “variable.t”).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">exposure</span> <span class="op">&lt;-</span> <span class="st">"ESETA1"</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="exposure-time-points">Exposure Time Points<a class="anchor" aria-label="anchor" href="#exposure-time-points"></a>
</h3>
<p>Next, users are required to provide information about the time points
at which the exposure was assessed to <em>exposure_time_pts</em>, as
required input to the <code><a href="../reference/createFormulas.html">createFormulas()</a></code>,
<code><a href="../reference/assessBalance.html">assessBalance()</a></code>, <code><a href="../reference/fitModel.html">fitModel()</a></code>, and
<code><a href="../reference/compareHistories.html">compareHistories()</a></code> <em>devMSMs</em> functions (see
<em>Workflows</em> vignettes). The user has two options when specifying
exposure time points and should select the option that best serves their
theory regarding developmental timing and the practical constraints of
their data and the modeling process.</p>
<p>First, they may specify all time points at which the exposure was
measured in their data. This means that balancing formulas will be
created (Steps 1a, 2a, 3b in the <em>Workflows</em> vignettes) and IPTW
weights will be created (Steps 2b, 3c in the <em>Workflows</em>
vignettes) and assessed (Steps 2c, 3a, 4 in the <em>Workflows</em>
vignettes) for all time points. In this case, if no epochs are
specified, all time points will be included as exposure main effects in
the final substantive model and history comparison (Step 5 in the
<em>Workflows</em> vignettes).</p>
<p>Second, they may specify a subset of theoretically important time
points at which the exposure was measured in their data. This means that
balancing formulas will be created and IPTW weights will be created and
assessed for only those time points. Further, if no epochs are
specified, only those subsetted time points will be included as exposure
main effects in the final substantive models. Importantly, exposure
variables at all time points at which the exposure was assessed should
be included as time-varying confounders for balancing purposes only.</p>
<p>The specification of exposure epochs should be kept consistent
throughout the use of the <em>devMSMs</em> package. If the user intends
to specify exposure epochs
(<a href="https://istallworthy.github.io/devMSMs/articles/Preliminary_Steps.html">Preliminary
Steps vignette</a> Step P4), the user should include all time points
encompassed in the epochs in <code>exposure_time_pts</code>. If the user
does not intend to specify exposure epochs, the
<code>exposure_time_pts</code> will constitute the exposure main effects
in the final outcome model and form the basis of the histories used for
history comparison. In this case, if the user specifies more than 4
exposure time points, they will be required to conduct only a subset of
history comparisons (Step 5b in the <em>Workflows</em> vignettes), given
that the base code (see the <code>hypotheses()</code> function from the
<em>marginaleffects</em> package) cannot accommodate all pairwise
history comparisons for more than 5 time points.</p>
<p>We elected to create epochs of infancy (6 and 15 months), toddlerhood
(24 and 35 months), and early childhood (58 months). Thus, we input 6,
15, 24, 35, and 58 to <code>exposure_time_pts</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">exposure_time_pts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">15</span>, <span class="fl">24</span>, <span class="fl">35</span>, <span class="fl">58</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="outcome-variable">Outcome Variable<a class="anchor" aria-label="anchor" href="#outcome-variable"></a>
</h3>
<p>Users are also required to specify an outcome variable at a
designated final time point, as required input to all functions in the
<em>devMSMs</em> package. This final time point should be equal to (or,
ideally greater than) the final exposure time point. Note that instances
of the outcome variable measured at any prior time points should be
included as time-varying confounders for balancing purposes. Specifying
the outcome, or the variable name of the outcome with the time point at
which it was collected appended following a period (e.g., “variable.t”)
corresponding to the variable name in the wide data, is required for the
package. Outcome variables in your dataset should be in wide format
labeled with a “.time” suffix.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outcome</span> <span class="op">&lt;-</span> <span class="st">"StrDif_Tot.58"</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="confounders">Confounders<a class="anchor" aria-label="anchor" href="#confounders"></a>
</h3>
<div class="section level4">
<h4 id="time-invariant-confounders">Time invariant confounders<a class="anchor" aria-label="anchor" href="#time-invariant-confounders"></a>
</h4>
<p>Specifying at least one time invariant confounder is required for the
use of this package as required input for the
<code><a href="../reference/createFormulas.html">createFormulas()</a></code> function. Time invariant confounders could
include core demographic or birth characteristics (e.g., sex, racial
group membership, birth complications) that might cause either the
exposure or outcome, either directly or as a proxy, as suggested by
theory and/or evidenced by strong associations in the existing
literature.</p>
<p>Here, the user can also include any interaction terms between time
invariant variables (e.g., “variable:variable”) for inclusion in the
balancing formula. Keep in mind that any interactions that include
factor variables will be decomposed into interactions at each factor
level. For <code>ti_confounders</code>, as a list, in quotations,
provide the names of all confounders (e.g., “variable”,
“variable:variable”) in your dataset that are time invariant.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ti_confounders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state"</span>, <span class="st">"BioDadInHH2"</span>, <span class="st">"PmAge2"</span>, <span class="st">"PmBlac2"</span>, <span class="st">"TcBlac2"</span>, <span class="st">"PmMrSt2"</span>, <span class="st">"PmEd2"</span>, <span class="st">"KFASTScr"</span>,</span>
<span>                    <span class="st">"RMomAgeU"</span>, <span class="st">"RHealth"</span>, <span class="st">"HomeOwnd"</span>, <span class="st">"SWghtLB"</span>, <span class="st">"SurpPreg"</span>, <span class="st">"SmokTotl"</span>, <span class="st">"DrnkFreq"</span>,</span>
<span>                    <span class="st">"peri_health"</span>, <span class="st">"caregiv_health"</span>, <span class="st">"gov_assist"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="time-varying-confounders">Time-varying confounders<a class="anchor" aria-label="anchor" href="#time-varying-confounders"></a>
</h4>
<p>Specifying at least time-varying exposures as time-varying
confounders is required for the use of this package as required input
for the <code><a href="../reference/createFormulas.html">createFormulas()</a></code> <em>devMSMs</em> function (see
<em>Workflows</em> vignettes). In <code>tv_confounders</code> as a list,
in quotations, provide the names of all variables in wide format (e.g.,
“variable.t”) in your dataset that are time-varying (including
time-varying confounders, exposures, and outcomes). These should include
all time-varying exposure variables and all outcome variables present in
the dataset (e.g., “variable.t”). Note that time-varying confounders
should also include any confounders measured repeatedly at all time
points (e.g., InRatioCor) or any collected only at one or several
specific time points, and missing at other time points, but are not time
invariant.</p>
<p>Here, the user can also include any interaction terms between
time-varying variables (e.g., “variable.t:variable.t”) or between time
invariant and time-varying variables (e.g., “variable.t:variable”) for
inclusion in the balancing formula. Keep in mind that any interactions
that include factor variables will be decomposed into interactions at
each factor level.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tv_confounders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SAAmylase.6"</span>,<span class="st">"SAAmylase.15"</span>, <span class="st">"SAAmylase.24"</span>,</span>
<span>                    <span class="st">"MDI.6"</span>, <span class="st">"MDI.15"</span>,                                            </span>
<span>                    <span class="st">"RHasSO.6"</span>, <span class="st">"RHasSO.15"</span>, <span class="st">"RHasSO.24"</span>,<span class="st">"RHasSO.35"</span>, <span class="st">"RHasSO.58"</span>,                                         </span>
<span>                    <span class="st">"WndNbrhood.6"</span>,<span class="st">"WndNbrhood.24"</span>, <span class="st">"WndNbrhood.35"</span>, <span class="st">"WndNbrhood.58"</span>,                                       </span>
<span>                    <span class="st">"IBRAttn.6"</span>, <span class="st">"IBRAttn.15"</span>, <span class="st">"IBRAttn.24"</span>,                                   </span>
<span>                    <span class="st">"B18Raw.6"</span>, <span class="st">"B18Raw.15"</span>, <span class="st">"B18Raw.24"</span>, <span class="st">"B18Raw.58"</span>,                                           </span>
<span>                    <span class="st">"HOMEETA1.6"</span>, <span class="st">"HOMEETA1.15"</span>, <span class="st">"HOMEETA1.24"</span>, <span class="st">"HOMEETA1.35"</span>, <span class="st">"HOMEETA1.58"</span>,                               </span>
<span>                    <span class="st">"InRatioCor.6"</span>, <span class="st">"InRatioCor.15"</span>, <span class="st">"InRatioCor.24"</span>, <span class="st">"InRatioCor.35"</span>, <span class="st">"InRatioCor.58"</span>,                         </span>
<span>                    <span class="st">"ESETA1.6"</span>, <span class="st">"ESETA1.15"</span>, <span class="st">"ESETA1.24"</span>, <span class="st">"ESETA1.35"</span>, <span class="st">"ESETA1.58"</span>,  <span class="co">#exposure variables required               </span></span>
<span>                    <span class="st">"CORTB.6"</span>, <span class="st">"CORTB.15"</span>, <span class="st">"CORTB.24"</span>,                                                                  </span>
<span>                    <span class="st">"EARS_TJo.24"</span>, <span class="st">"EARS_TJo.35"</span>,                                        </span>
<span>                    <span class="st">"LESMnPos.24"</span>, <span class="st">"LESMnPos.35"</span>,                                  </span>
<span>                    <span class="st">"LESMnNeg.24"</span>, <span class="st">"LESMnNeg.35"</span>,       </span>
<span>                    <span class="st">"StrDif_Tot.35"</span>, <span class="st">"StrDif_Tot.58"</span>,    </span>
<span>                    <span class="st">"fscore.35"</span>, <span class="st">"fscore.58"</span></span>
<span><span class="op">)</span> </span></code></pre></div>
<p><br></p>
</div>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>Arel-Bundock, Vincent. 2023. marginaleffects: Predictions,
Comparisons, Slopes, Marginal Means, and Hypothesis Tests. <a href="https://CRAN.R-project.org/package=marginaleffects" class="external-link uri">https://CRAN.R-project.org/package=marginaleffects</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Isabella Stallworthy, Noah Greifer, Meriah DeJoseph, Emily Padrutt, Daniel Berry.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
