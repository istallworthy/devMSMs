<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="devMSMs">
<title>Data Requirements • devMSMs</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Requirements">
<meta property="og:description" content="devMSMs">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">devMSMs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Terminology.html">Terminology</a>
    <a class="dropdown-item" href="../articles/Data_Requirements.html">Data Requirements</a>
    <a class="dropdown-item" href="../articles/Specify_Core_Inputs.html">Specify Core Inputs</a>
    <a class="dropdown-item" href="../articles/Preliminary_Steps.html">Preliminary Steps</a>
    <a class="dropdown-item" href="../articles/Workflow_Continuous_Exposure.html">Workflow: Continuous Exposure</a>
    <a class="dropdown-item" href="../articles/Customize_Balancing_Formulas.html">Customize Balancing Formulas</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/istallworthy/devMSMs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Data Requirements</h1>
                        <h4 data-toc-skip class="author">Isabella
Stallworthy</h4>
            
            <h4 data-toc-skip class="date">2023-12-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/istallworthy/devMSMs/blob/HEAD/vignettes/Data_Requirements.Rmd" class="external-link"><code>vignettes/Data_Requirements.Rmd</code></a></small>
      <div class="d-none name"><code>Data_Requirements.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">"devtools"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"istallworthy/devMSMs"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://istallworthy.github.io/devMSMs/">devMSMs</a></span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/amices/mice" class="external-link">"mice"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'mice'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     cbind, rbind</span></span></code></pre></div>
<p>We recommend considering several data requirements prior to using
<em>devMSMs</em> and any of the vignettes.</p>
<p>MSMs are most useful for strengthening causal inference using
longitudinal data that include an exposure and confounders that vary in
time prior to an outcome. At a minimum, <em>devMSMs</em> requires
two-time-point data with a time-varying exposure measured at least two
time points, outcome measured at the second time point, and at least one
time invariant confounder. The exposure can be binary (with integer
class) or continuous (with numeric class) and there are no assumptions
about the distributions of outcome or confounders. We highly recommend
using continuous variables when appropriate and possible to avoid the
information loss inherent to binarizing a continuous variable. Although
there is no gold standard recommendation, we suggest users select
exposures that have some within-person variation from which it would be
reasonable to delineate different histories of “high” and “low” levels
(see Step P5a in the recommended
<a href="https://istallworthy.github.io/devMSMs/articles/Preliminary_Steps.html">Preliminary
Steps Vignette</a>) and avoid extrapolation.</p>
<p>The outcome time point must be the last time point when exposure was
measured or a time point after the last exposure measurement time point.
For cases in which the outcome variable constitutes a growth process at
the final time point, we advise choosing a reasonable measure for
balancing purposes (e.g., baseline or average levels) before
subsequently using the generated weights to separately conduct a
weighted growth model of the outcome.</p>
<p>We advise the user to specify and include in the dataset any time
invariant and time-varying variables that could possibly confound the
relation between exposure and outcome. We also suggest using multiple
measured variables within each construct to help reduce any effects from
measurement bias (Kainz et al., 2017). Time varying confounders are
ideal for maximizing the power of MSMs. However, specifying time-varying
confounders in addition to the time-varying exposures variables is not
required for using this package. Additional time-varying confounders
could include developmental indicators that tend to track with the
exposure over time that could also cause the outcome, including past
levels of the exposure. Of note, the time points at which the
confounders were collected must be equal to, or a subset of, the time
points at which the exposure and outcome were collected in the data. In
a perfect world, all exposures and potential confounders would be
measured at all time points prior to the outcome. However, with
real-world data due to planned and unplanned missingness, this is often
not the case. Users should consider discussing the implications and
limitations conferred by variables that could be confounders that were
not collected at all time points. As a basis for specifying confounders,
users should turn to the literature to delineate a causal model that
lays out hypothesized relations between confounders, exposures, and
outcome.</p>
<p>The following longitudinal data that accompany <em>devMSMs</em> are
simulated based on data from the Family Life Project (FLP), a
longitudinal study following 1,292 families representative of two
geographic areas (three counties in North Carolina and three counties in
Pennsylvania) with high rural child poverty (Vernon-Feagans et al.,
2013; Burchinal et al., 2008). We take the example exposure of economic
strain (ESETA1) measured at 6, 15, 24, 35, and 58 months in relation to
the outcome of behavior problems (StrDif_Tot) measured at 58 months.</p>
<p><em>devMSMs</em> (see <em>Workflows</em> vignettes) requires complete
data in wide format (i.e., one row per individual, with and “ID” column
for identifiers), in one of three ways:</p>
<ol style="list-style-type: decimal">
<li>a single data frame with no missing data;</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_wide"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_data_wide</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID state TcBlac2 BioDadInHH2 HomeOwnd KFASTScr PmBlac2 PmEd2 PmMrSt2 PmAge2</span></span>
<span><span class="co">#&gt; 1  1     0       0           1        1       24       0    15       1 27.245</span></span>
<span><span class="co">#&gt; 2  2     1       1           0        2       27       1    17       0 32.292</span></span>
<span><span class="co">#&gt; 3  3     0       0           0        3       15       1    13       1 25.588</span></span>
<span><span class="co">#&gt; 4  4     1       0           0        2       17       0    14       0 22.664</span></span>
<span><span class="co">#&gt; 5  5     0       0           1        1       25       0    20       1 41.153</span></span></code></pre></div>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li>imputed data in the form of a mids object (output from
<code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice::mice()</a></code>);</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_mice"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">sim_data_mice</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "mids"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">mice</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">complete</a></span><span class="op">(</span><span class="va">sim_data_mice</span>, <span class="fl">1</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ALI_Le.35 B18Raw.15 B18Raw.24 B18Raw.58 B18Raw.6 BioDadInHH2 caregiv_health</span></span>
<span><span class="co">#&gt; 1         3         1         1         7       16           1              3</span></span>
<span><span class="co">#&gt; 2         2         4        -7         7        0           0              0</span></span>
<span><span class="co">#&gt; 3         3         6         5        20       -1           0              3</span></span>
<span><span class="co">#&gt; 4         4        24        25        17       11           0              3</span></span>
<span><span class="co">#&gt; 5         3        -8        -9        17        1           1              2</span></span>
<span><span class="co">#&gt;   CORTB.15 CORTB.24 CORTB.6</span></span>
<span><span class="co">#&gt; 1   -0.227   -0.652   0.742</span></span>
<span><span class="co">#&gt; 2    0.149    0.831   0.018</span></span>
<span><span class="co">#&gt; 3    1.145    0.033  -0.379</span></span>
<span><span class="co">#&gt; 4    0.301   -0.501   0.000</span></span>
<span><span class="co">#&gt; 5   -0.247    0.084   0.153</span></span></code></pre></div>
<p><br></p>
<ol start="3" style="list-style-type: decimal">
<li>imputed data as a list of imputed data frames.</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_imp_list"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_data_imp_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   X ALI_Le.35 B18Raw.15 B18Raw.24 B18Raw.58 B18Raw.6 BioDadInHH2 caregiv_health</span></span>
<span><span class="co">#&gt; 1 1         3         1         1         7       16           1              3</span></span>
<span><span class="co">#&gt; 2 2         2         4        -7         7        0           0              0</span></span>
<span><span class="co">#&gt; 3 3         3         6         5        20       -1           0              3</span></span>
<span><span class="co">#&gt; 4 4         4        24        25        17       11           0              3</span></span>
<span><span class="co">#&gt; 5 5         3        -8        -9        17        1           1              2</span></span>
<span><span class="co">#&gt;   CORTB.15 CORTB.24</span></span>
<span><span class="co">#&gt; 1   -0.227   -0.652</span></span>
<span><span class="co">#&gt; 2    0.149    0.831</span></span>
<span><span class="co">#&gt; 3    1.145    0.033</span></span>
<span><span class="co">#&gt; 4    0.301   -0.501</span></span>
<span><span class="co">#&gt; 5   -0.247    0.084</span></span></code></pre></div>
<p><br></p>
<p>All variables should be classed as integers, numeric, or factors. The
recommended
<a href="https://istallworthy.github.io/devMSMs/articles/Preliminary_Steps.html">
Preliminary Steps Vignette</a> offers guidance for transforming data
into each of those three types. All time-varying variables (including
exposure and outcome) should have “.time” suffixes (e.g., “variable.t”).
All time invariant variables should be labeled with only their variable
names. Variable names should not contain special characters other than
underscores. Person identifiers should not contain characters. An
abridged example data structure is shown in Figure 1 below.</p>
<div class="figure">
<img src="figures/sample%20data.png" width="600" alt=""><p class="caption">Figure 1. Abridged example structure of a wide
dataset formatted as required for the devMSMs. Column A denotes the ID
variable, column B (green) denotes a time in-variant confounder (e.g.,
race, birth information), columns C - F denote two time-varying
confounders (lighter yellow) at two different time points (e.g., age.1,
age.2 and income.1, income.2, where .1 represents wave 1 and .2
represents wave 2). Columns G - I denote the exposure and outcome of
interest (darker yellow), where G and H are time-varying values on each
exposure, and column I is the outcome value at the final wave/timepoint.
Missing data are denoted as NA and will need to be imputed
(<a href="https://istallworthy.github.io/devMSMs/articles/Preliminary_Steps.html">Preliminary
Steps Vignette</a> Step P2).</p>
</div>
<p><br></p>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>Burchinal, M., Howes, C., Pianta, R., Bryant, D., Early, D.,
Clifford, R., &amp; Barbarin, O. (2008). Predicting Child Outcomes at
the End of Kindergarten from the Quality of Pre-Kindergarten
Teacher–Child Interactions and Instruction. Applied Developmental
Science, 12(3), 140–153. <a href="https://doi.org/10.1080/10888690802199418" class="external-link uri">https://doi.org/10.1080/10888690802199418</a></p>
<p>Kainz, K., Greifer, N., Givens, A., Swietek, K., Lombardi, B. M.,
Zietz, S., &amp; Kohn, J. L. (2017). Improving Causal Inference:
Recommendations for Covariate Selection and Balance in Propensity Score
Methods. Journal of the Society for Social Work and Research, 8(2),
279–303. <a href="https://doi.org/10.1086/691464" class="external-link uri">https://doi.org/10.1086/691464</a></p>
<p>Vernon-Feagans, L., Cox, M., Willoughby, M., Burchinal, M.,
Garrett-Peters, P., Mills-Koonce, R., Garrett-Peiers, P., Conger, R. D.,
&amp; Bauer, P. J. (2013). The Family Life Project: An Epidemiological
and Developmental Study of Young Children Living in Poor Rural
Communities. Monographs of the Society for Research in Child
Development, 78(5), i–150.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Isabella Stallworthy, Noah Greifer, Meriah DeJoseph, Emily Padrutt, Daniel Berry.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
